<!-- photo-gallery.component.html -->
<section class="space-y-3">
<!-- Viewer: altura fija + centrado -->
<div class="relative rounded-xl border overflow-hidden bg-base-200
         grid place-items-center p-2
         min-h-[20vh] sm:h-[45vh] "
  >
  <button type="button"
    class="btn btn-circle btn-sm absolute left-2 top-1/2 -translate-y-1/2 z-10 hidden sm:inline-flex items-center justify-center border-primary shadow-lg shadow-primary/50 text-xl leading-none"
    aria-label="Previous" (click)="prev()">
    <span class="mb-1">‹</span>
  </button>

  <img [src]="images()[idx()]" [alt]="title() || 'photo ' + (idx() + 1)"
    class="max-w-full max-h-full w-auto h-auto object-contain bg-base-100 " loading="lazy" decoding="async" />

  <button type="button"
    class="btn btn-circle btn-sm absolute right-2 top-1/2 -translate-y-1/2 z-10 hidden sm:inline-flex items-center justify-center border-primary shadow-lg shadow-primary/50 text-xl leading-none"
    aria-label="Next" (click)="next()">
    <span class="mb-1">›</span>
  </button>
</div>




  <!-- Thumbs -->
  <div class="flex gap-2 overflow-x-auto pb-1">
    @for (img of images(); track img; let i = $index) {
    <button
      type="button"
      class="rounded-lg border overflow-hidden shrink-0 focus:outline-none focus:ring-2 focus:ring-primary"
      [class.ring-2]="i === idx()"
      [class.ring-primary]="i === idx()"
      (click)="select(i)"
      aria-label="Go to image {{ i + 1 }}"
    >
      <img [src]="img" class="h-16 w-24 object-cover" [alt]="'thumb ' + (i + 1)" loading="lazy" />
    </button>
    }
  </div>
</section>
